<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../iron-icon/iron-icon.html">
<link rel="import" href="../iron-icons/maps-icons.html">
<link rel="import" href="../paper-item/paper-icon-item.html">
<link rel="import" href="../paper-item/paper-item-body.html">
<link rel="import" href="../paper-ripple/paper-ripple.html">
<link rel="import" href="../paper-styles/paper-styles.html">
<link rel="import" href="paper-contact-shared-styles.html">

<dom-module id="paper-contact-address">

	<template>
	
		<style include="paper-contact-shared-styles"></style>

		<paper-icon-item hidden=[[!address]] class='item' on-tap='_onTap'>
			<paper-ripple fit></paper-ripple>
			<iron-icon class='icon' icon='maps:place' item-icon></iron-icon>
			<paper-item-body class='text' three-line>[[address]]</paper-item-body>
		</paper-icon-item>
	</template>
</dom-module>

<script>

(function() {

	Polymer({
		is: 'paper-contact-address',
		properties: {
			address: String,
			latitude: Number,
			longitude: Number
		},
	
		// Private methods
		_onTap: function(e) {
			window.open(this._calcTarget(this.address, this.latitude, this.longitude), '_blank');
		},
		_calcTarget: function(address, latitude, longitude) {
			encodedAddress = encodeURIComponent(address);
			return 'https://www.google.com/maps/search/' + encodedAddress + '/@' + latitude + '+' + longitude;
		}
	});

})();

</script>